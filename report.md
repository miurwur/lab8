## Отчет по лабораторной работе №8
**Цель работы** 

Создать простое клиент-серверное приложение на Python без серверных фреймворков.
Освоить работу с HTTPServer и маршрутизацию запросов.
Применять шаблонизатор Jinja2 для отображения данных.
Реализовать модели предметной области (User, Currency, UserCurrency, App, Author) с геттерами и сеттерами.
Структурировать код в соответствии с архитектурой MVC.
Получать данные о курсах валют через функцию get_currencies и отображать их пользователям.
Реализовать функциональность подписки пользователей на валюты и отображение динамики их изменения.
Научиться создавать тесты для моделей и серверной логики.

**Описание предметной области**

Приложение для отслеживания курсов валют включает следующие модели:

**users**
name — имя пользователя  
age — возраст пользователя  
email — email пользователя  

**currency**
id — уникальный идентификатор  
num_code — цифровой код   
char_code — символьный код  
name — название валюты  
value — курс  
nominal — номинал  

**currencies_users**
id — уникальный идентификатор  
user_id — внешний ключ к User  
currency_id — внешний ключ к Currency  

**Структура проекта**

my_App/                             # Корневая папка проекта          
├── models/                         # Пакет с моделями данных  
│   ├── __init__.py                # Инициализация пакета моделей  
│   ├── currencies_users.py        # Модель связи пользователей и валют  
│   ├── currency.py                # Модель валюты и работа с API  
│   └── users.py                   # Модель пользователя  
├── templates/                      # HTML шаблоны  
│   ├── currencies_users.html      # Страница истории валют пользователя  
│   ├── currency_input.html        # Страница ввода кода валюты  
│   ├── currency_result.html       # Страница с результатом курса валюты  
│   ├── page1.html                 # Главная страница  
│   └── page2.html                 # Вторая страница  
├── my_App.py                      # Основной файл приложения(веб-сервер)  
└── report.md                      # Отчет о проекте  

**Назначение файлов:**

my_App.py - HTTP сервер, обработка запросов, маршрутизация (сontroller)  
models/ - бизнес-логика (model)  
templates/ - HTML шаблоны для отображения (view)  

**Реализация:**

Все классы скрывают внутренние данные (приватные поля с __)  
Для доступа к данным используются специальные методы (@property)  
При изменении данных выполняется проверка: если данные неправильные, выдается ошибка  

**HTTP сервер**
Создан обработчик запросов CurrencyRequestHandler
Поддерживаемые адреса:  
/ - Начальная страница  
/users_currencies - Страница с пользователями и валютами
/currency - Страница для ввода кода валюты
/currency/{код_валюты} - Страница с информацией о конкретной валюте  

**Шаблонизатор Jinja2**

Инициализация Environment один раз при старте приложения: 
```python
env = Environment(
    loader=PackageLoader("myapp"),
    autoescape=select_autoescape()
)
```

**Примеры работы приложения**
Главная страница (/)  
Форма для ввода данных пользователя (имя, возраст, email)  

Ввод кода валюты (/currency)
Форма для ввода 3-буквенного кода валюты (USD, EUR, GBP и т.д)
Проверка корректности кода

Просмотр курса валюты (/currency/{код})
Детальная информация о выбранной валюте
Текущий курс к рублю
Номинал валюты

Пользователи и валюты (/users_currencies)
Список всех пользователей и просмотренных ими валют
Возможность добавления валют пользователям

